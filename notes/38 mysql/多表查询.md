# 多表查询

[SQL多表查询：SQL JOIN连接查询各种用法总结](https://blog.csdn.net/weixin_60528419/article/details/128701926)

### 数据表设计

- 一对一: 在从表里通过外键来关联主表的主键。

  比如一个用户只能有一个身份证, user 表叫主表，使用外键 user_id 引用它的 id 的 id_card 表是从表。


### 外键级联关系

主表数据 update 或者 delete 的时候，从表怎么办

- CASCADE：主表主键更新，从表关联记录的外键跟着更新，主表记录删除，从表关联记录删除
- SET NULL：主表主键更新或者主表记录删除，从表关联记录的外键设置为 null
- RESTRICT：只有没有从表的关联记录时，才允许删除主表记录或者更新主表记录的主键 id
- NO ACTION：同 RESTRICT，只是 sql 标准里分了 4 种，但 mysql 里 NO ACTION 等同于 RESTRICT

### 多表查询 join on

join 左边是左表, join 右边是右表, on 后面接关联方式

- inner join: 默认值, 只返回两个表有关联的记录
- left join: 额外返回没有关联记录的左表的记录
- right join: 额外返回没有关联记录的右表的记录
